"use strict";(self.webpackChunkRestaurantBooking=self.webpackChunkRestaurantBooking||[]).push([[619],{7619:(Q,O,r)=>{r.r(O),r.d(O,{AuthModule:()=>G});var f=r(6814),g=r(1896),s=r(6223),u=r(6306),p=r(2096),m=r(79),t=r(5879),M=r(4567),_=r(8379),v=r(7700),S=r(2296),l=r(5195),h=r(9157),U=r(2032),x=r(5860);function A(n,i){1&n&&(t.ynx(0),t._UZ(1,"shared-loading-spinner"),t.BQk())}const T=function(){return["/auth/signup"]};function y(n,i){if(1&n){const a=t.EpF();t.TgZ(0,"mat-card",3)(1,"mat-card-title",4),t._uU(2,"Log In"),t.qZA(),t.TgZ(3,"mat-card-content")(4,"div",5)(5,"mat-form-field",6)(6,"mat-label"),t._uU(7,"Email"),t.qZA(),t._UZ(8,"input",7),t.qZA(),t.TgZ(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"Password"),t.qZA(),t.TgZ(12,"input",8),t.NdJ("keyup.enter",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.logIn())}),t.qZA()(),t.TgZ(13,"mat-card-actions")(14,"button",9),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.logIn())}),t._uU(15," Login "),t.qZA()(),t.TgZ(16,"div",10)(17,"span"),t._uU(18,"Don't have an account? "),t.qZA(),t.TgZ(19,"a",11),t._uU(20,"Sign up here"),t.qZA()()()()()}if(2&n){const a=t.oxw();t.xp6(4),t.Q6J("formGroup",a.loginForm),t.xp6(10),t.Q6J("disabled",a.disableBtn),t.xp6(5),t.Q6J("routerLink",t.DdM(3,T))}}function F(n,i){1&n&&(t.TgZ(0,"div"),t._UZ(1,"shared-loading-spinner"),t.qZA())}const k=function(){return["/auth/login"]};function J(n,i){if(1&n){const a=t.EpF();t.TgZ(0,"mat-card",3)(1,"mat-card-title",4),t._uU(2,"Sign Up"),t.qZA(),t.TgZ(3,"mat-card-content")(4,"div",5)(5,"mat-form-field",6)(6,"mat-label"),t._uU(7,"First Name"),t.qZA(),t._UZ(8,"input",7),t.qZA(),t.TgZ(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"Last Name"),t.qZA(),t._UZ(12,"input",8),t.qZA(),t.TgZ(13,"mat-form-field",6)(14,"mat-label"),t._uU(15,"Email"),t.qZA(),t._UZ(16,"input",9),t.qZA(),t.TgZ(17,"mat-form-field",6)(18,"mat-label"),t._uU(19,"Password"),t.qZA(),t.TgZ(20,"input",10),t.NdJ("keyup.enter",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.signUp())}),t.qZA()(),t.TgZ(21,"mat-card-actions")(22,"button",11),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.signUp())}),t._uU(23," Signup "),t.qZA()(),t.TgZ(24,"div",12)(25,"span"),t._uU(26,"Already have an account? "),t.qZA(),t.TgZ(27,"a",13),t._uU(28,"Log in here"),t.qZA()()()()()}if(2&n){const a=t.oxw();t.xp6(4),t.Q6J("formGroup",a.signupForm),t.xp6(18),t.Q6J("disabled",a.disableBtn),t.xp6(5),t.Q6J("routerLink",t.DdM(3,k))}}const B=[{path:"",children:[{path:"login",component:(()=>{var n;class i{constructor(e,o,c,d,P){this.fb=e,this.authService=o,this.validatorService=c,this.dialog=d,this.router=P,this.disableBtn=!1,this.isLoading=!1,this.loginForm=this.fb.group({email:["",[s.kI.required,s.kI.pattern(this.validatorService.emailPattern)]],password:["",[s.kI.required]]})}logIn(){this.loginForm.valid?(this.isLoading=!0,this.disableBtn=!0,this.authService.login(this.loginForm.value).pipe((0,u.K)(({error:e})=>(this.dialog.open(m.q,{data:{title:"Failed",message:e.message}}).afterClosed().subscribe(),(0,p.of)(e)))).subscribe(()=>{this.disableBtn=!1,this.isLoading=!1,this.router.navigateByUrl("/reservations")})):this.loginForm.markAllAsTouched()}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(M.e),t.Y36(_.S),t.Y36(v.uw),t.Y36(g.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["auth-login-page"]],decls:3,vars:2,consts:[[1,"cardsContainer"],[4,"ngIf"],["class","logInCard",4,"ngIf"],[1,"logInCard"],[1,"titleLogIn"],[3,"formGroup"],["appearance","fill",1,"inputLogIn"],["matInput","","placeholder","johndoe@domain.com","formControlName","email"],["type","password","matInput","","formControlName","password",3,"keyup.enter"],["mat-raised-button","","type","submit",1,"logIn",3,"disabled","click"],[1,"registerText"],[1,"registerLink",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,A,2,0,"ng-container",1),t.YNc(2,y,21,4,"mat-card",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isLoading))},dependencies:[f.O5,g.rH,s.Fj,s.JJ,s.JL,s.sg,s.u,S.lW,l.a8,l.hq,l.dn,l.n5,h.KE,h.hX,U.Nt,x.g],styles:[".cardsContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f5f5f5}.cardsContainer[_ngcontent-%COMP%]   .logInCard[_ngcontent-%COMP%]{width:300px;padding:20px}.cardsContainer[_ngcontent-%COMP%]   .logInCard[_ngcontent-%COMP%]   .titleLogIn[_ngcontent-%COMP%]{text-align:center}.cardsContainer[_ngcontent-%COMP%]   .logInCard[_ngcontent-%COMP%]   .inputLogIn[_ngcontent-%COMP%]{width:100%}.cardsContainer[_ngcontent-%COMP%]   .logInCard[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.cardsContainer[_ngcontent-%COMP%]   .logInCard[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .logIn[_ngcontent-%COMP%]{width:100%;color:#f5f5f5;background-color:#34495e}.cardsContainer[_ngcontent-%COMP%]   .logInCard[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .logIn[_ngcontent-%COMP%]:hover{background-color:#2c3e50}.cardsContainer[_ngcontent-%COMP%]   .logInCard[_ngcontent-%COMP%]   .registerText[_ngcontent-%COMP%]{text-align:center;margin-top:10px;font-size:14px}.cardsContainer[_ngcontent-%COMP%]   .logInCard[_ngcontent-%COMP%]   .registerText[_ngcontent-%COMP%]   .registerLink[_ngcontent-%COMP%]{color:#34495e;text-decoration:none;font-weight:700;cursor:pointer}.cardsContainer[_ngcontent-%COMP%]   .logInCard[_ngcontent-%COMP%]   .registerText[_ngcontent-%COMP%]   .registerLink[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 400px){.logInCard[_ngcontent-%COMP%]{width:90%}}"]}),i})()},{path:"signup",component:(()=>{var n;class i{constructor(e,o,c,d,P){this.fb=e,this.authService=o,this.dialog=c,this.validatorService=d,this.router=P,this.disableBtn=!1,this.isLoading=!1,this.signupForm=this.fb.group({firstName:["",[s.kI.required]],lastName:["",[s.kI.required]],email:["",[s.kI.required,s.kI.pattern(this.validatorService.emailPattern)]],password:["",[s.kI.required,s.kI.minLength(6)]]})}signUp(){this.signupForm.valid?(this.disableBtn=!0,this.authService.signup(this.signupForm.value).pipe((0,u.K)(({error:e})=>(this.dialog.open(m.q,{data:{title:"Failed",message:e.message}}).afterClosed().subscribe(),(0,p.of)(e)))).subscribe(()=>{this.disableBtn=!1,this.router.navigateByUrl("/home")})):this.signupForm.markAllAsTouched()}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(M.e),t.Y36(v.uw),t.Y36(_.S),t.Y36(g.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["auth-signup-page"]],decls:3,vars:2,consts:[[1,"cardsContainer"],[4,"ngIf"],["class","signUpCard",4,"ngIf"],[1,"signUpCard"],[1,"title"],[3,"formGroup"],["appearance","fill",1,"input"],["matInput","","placeholder","John","formControlName","firstName"],["matInput","","placeholder","Doe","formControlName","lastName"],["matInput","","placeholder","user@domain.com","formControlName","email"],["type","password","matInput","","formControlName","password",3,"keyup.enter"],["mat-raised-button","","type","submit",1,"signUp",3,"disabled","click"],[1,"loginRedirect"],[1,"loginLink",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,F,2,0,"div",1),t.YNc(2,J,29,4,"mat-card",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isLoading))},dependencies:[f.O5,g.rH,s.Fj,s.JJ,s.JL,s.sg,s.u,S.lW,l.a8,l.hq,l.dn,l.n5,h.KE,h.hX,U.Nt,x.g],styles:[".cardsContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f5f5f5}.cardsContainer[_ngcontent-%COMP%]   .signUpCard[_ngcontent-%COMP%]{width:300px;padding:20px}.cardsContainer[_ngcontent-%COMP%]   .signUpCard[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center}.cardsContainer[_ngcontent-%COMP%]   .signUpCard[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%}.cardsContainer[_ngcontent-%COMP%]   .signUpCard[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.cardsContainer[_ngcontent-%COMP%]   .signUpCard[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .signUp[_ngcontent-%COMP%]{width:100%;color:#f5f5f5;background-color:#34495e}.cardsContainer[_ngcontent-%COMP%]   .signUpCard[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .signUp[_ngcontent-%COMP%]:hover{background-color:#2c3e50}.cardsContainer[_ngcontent-%COMP%]   .signUpCard[_ngcontent-%COMP%]   .loginRedirect[_ngcontent-%COMP%]{text-align:center;margin-top:10px;font-size:14px}.cardsContainer[_ngcontent-%COMP%]   .signUpCard[_ngcontent-%COMP%]   .loginRedirect[_ngcontent-%COMP%]   .loginLink[_ngcontent-%COMP%]{color:#34495e;text-decoration:none;font-weight:700;cursor:pointer}.cardsContainer[_ngcontent-%COMP%]   .signUpCard[_ngcontent-%COMP%]   .loginRedirect[_ngcontent-%COMP%]   .loginLink[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 400px){.signUpCard[_ngcontent-%COMP%]{width:90%}}"]}),i})()},{path:"",redirectTo:"login",pathMatch:"full"}]}];let N=(()=>{var n;class i{}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(B),g.Bz]}),i})();var Z=r(2977),I=r(5576),q=r(9397),C=r(7398),L=r(9862),w=r(7825);let R=(()=>{var n;class i{constructor(e,o,c){this.http=e,this.authService=o,this.dialog=c,this.baseUrl=w.A.baseURL,this.bearerToken=this.authService.getBearerToken(),this.headers=(new L.WM).set("authorization",this.bearerToken)}getALl(e=1,o=20){return this.http.get(`${this.baseUrl}/restaurantStaff?CurrentPage=${e}&PageSize=${o}`,{headers:this.headers}).pipe((0,u.K)(({error:d})=>(this.dialog.open(m.q,{data:{title:"Failed",message:`${d.message??"Something happend!!"}`}}),(0,p.of)())),(0,C.U)(d=>d.data))}getById(e){return this.http.get(`${this.baseUrl}/restaurantStaff/${e}`,{headers:this.headers}).pipe((0,u.K)(({error:c})=>(this.dialog.open(m.q,{data:{title:"Failed",message:`${c.message??"Something happend!!"}`}}),(0,p.of)())),(0,C.U)(c=>c.data[0]))}create(e){return this.http.post(`${this.baseUrl}/restaurantStaff`,e,{headers:this.headers}).pipe((0,u.K)(({error:c})=>(this.dialog.open(m.q,{data:{title:"Failed",message:`${c.message??"Something happend!!"}`}}),(0,p.of)())),(0,C.U)(c=>c.data[0]))}delete(e){return this.http.delete(`${this.baseUrl}/restaurantStaff/${e}`,{headers:this.headers}).pipe((0,u.K)(({error:c})=>(this.dialog.open(m.q,{data:{title:"Failed",message:`${c.message??"Something happend!!"}`}}),(0,p.of)())),(0,C.U)(()=>!0))}}return(n=i).\u0275fac=function(e){return new(e||n)(t.LFG(L.eN),t.LFG(M.e),t.LFG(v.uw))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})(),Y=(()=>{var n;class i{constructor(e){this.staffService=e,this.staff=[]}ngOnInit(){this.staffService.getALl().pipe((0,q.b)(e=>this.staff=e)).subscribe()}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["list-staff"]],decls:5,vars:3,template:function(e,o){1&e&&(t.TgZ(0,"h1"),t._uU(1,"list-staff works!"),t.qZA(),t.TgZ(2,"pre"),t._uU(3),t.ALo(4,"json"),t.qZA()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,1,o.staff)))},dependencies:[f.Ts]}),i})();const K=[{path:"",component:r(4178).o,children:[{path:"",component:Y},{path:"**",redirectTo:"/"}]}];let $=(()=>{var n;class i{}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(K),g.Bz]}),i})(),z=(()=>{var n;class i{}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.ez,$,I.m,Z.q]}),i})(),G=(()=>{var n;class i{}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.ez,N,s.UX,z,Z.q,I.m]}),i})()}}]);