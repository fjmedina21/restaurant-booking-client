"use strict";(self.webpackChunkRestaurantBooking=self.webpackChunkRestaurantBooking||[]).push([[592],{1075:(Z,P,o)=>{o.d(P,{$:()=>v});var r=o(7700),n=o(5879),_=o(2296);let v=(()=>{var l;class t{constructor(c,g){this.dialogRef=c,this.data=g}onNoClick(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}}return(l=t).\u0275fac=function(c){return new(c||l)(n.Y36(r.so),n.Y36(r.WI))},l.\u0275cmp=n.Xpm({type:l,selectors:[["confirm-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title","",1,"dialog-title"],["mat-dialog-content","",1,"dialog-content"],["mat-dialog-actions","",1,"action-buttons"],["mat-button","",1,"btn",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn",3,"click"]],template:function(c,g){1&c&&(n.TgZ(0,"h1",0),n._uU(1),n.qZA(),n.TgZ(2,"div",1)(3,"p"),n._uU(4),n.qZA()(),n.TgZ(5,"div",2)(6,"button",3),n.NdJ("click",function(){return g.onNoClick()}),n._uU(7," No "),n.qZA(),n.TgZ(8,"button",4),n.NdJ("click",function(){return g.onConfirm()}),n._uU(9," Yes "),n.qZA()()),2&c&&(n.xp6(1),n.Oqu(g.data.title),n.xp6(3),n.Oqu(g.data.message))},dependencies:[_.lW,r.uh,r.xY,r.H8],styles:['@charset "UTF-8";.dialog-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#34495e;margin-bottom:16px}.dialog-content[_ngcontent-%COMP%]{font-size:16px;color:#7f8c8d;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.btn[_ngcontent-%COMP%]{flex:1;background-color:#34495e;color:#fff}']}),t})()},4178:(Z,P,o)=>{o.d(P,{o:()=>N});var r=o(2181),n=o(6223),_=o(6306),v=o(2096),l=o(79),t=o(5879),d=o(4567),c=o(7700),g=o(6814),u=o(2296),C=o(9157),T=o(2032),x=o(5860);function U(i,m){1&i&&(t.ynx(0),t._UZ(1,"shared-loading-spinner"),t.BQk())}function k(i,m){if(1&i){const s=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(s);const a=t.oxw();return t.KtG(a.onSubmit())}),t.TgZ(1,"h1",4),t._uU(2,"Change Password"),t.qZA(),t.TgZ(3,"mat-form-field",5)(4,"mat-label"),t._uU(5,"Old Password"),t.qZA(),t._UZ(6,"input",6),t.TgZ(7,"mat-error"),t._uU(8,"required"),t.qZA()(),t.TgZ(9,"mat-form-field",5)(10,"mat-label"),t._uU(11,"New Password"),t.qZA(),t._UZ(12,"input",7),t.TgZ(13,"mat-error"),t._uU(14,"required"),t.qZA()(),t.TgZ(15,"div",8)(16,"button",9),t.NdJ("click",function(){t.CHM(s);const a=t.oxw();return t.KtG(a.onNoClick())}),t._uU(17," Cancel "),t.qZA(),t.TgZ(18,"button",10),t._uU(19," Save "),t.qZA()()()}if(2&i){const s=t.oxw();t.Q6J("formGroup",s.changePasswordForm)}}let y=(()=>{var i;class m{constructor(e,a,f,p){this.fb=e,this.authService=a,this.refDialog=f,this.dialog=p,this.isLoading=!1,this.changePasswordForm=this.fb.group({oldPassword:[,[n.kI.required]],newPassword:[,[n.kI.required]]})}onNoClick(){this.refDialog.close(!1)}onSubmit(){this.isLoading=!0,this.changePasswordForm.valid&&this.authService.changePassword(this.changePasswordForm.value).pipe((0,_.K)(({error:e})=>(this.isLoading=!1,this.dialog.open(l.q,{data:{title:"Failed",message:`${e.message??"Something happend!!"}`}}),(0,v.of)()))).subscribe(e=>{this.isLoading=!1,this.dialog.open(l.q,{data:{title:"Success",message:`${e.message??"Done!!"}`}}),this.refDialog.close()})}}return(i=m).\u0275fac=function(e){return new(e||i)(t.Y36(n.qu),t.Y36(d.e),t.Y36(c.so),t.Y36(c.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["change-password"]],decls:3,vars:2,consts:[["mat-dialog-content",""],[4,"ngIf"],["class","m-2",3,"formGroup","ngSubmit",4,"ngIf"],[1,"m-2",3,"formGroup","ngSubmit"],[1,"dialog-title"],["appearance","fill",1,"container"],["matInput","","type","password","formControlName","oldPassword","required",""],["matInput","","type","password","formControlName","newPassword","required",""],[1,"action-buttons"],["mat-flat-button","",1,"btn",3,"click"],["mat-flat-button","","type","submit",1,"btn"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,U,2,0,"ng-container",1),t.YNc(2,k,20,1,"form",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Q6J("ngIf",!a.isLoading))},dependencies:[g.O5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u,u.lW,c.xY,C.KE,C.hX,C.TO,T.Nt,x.g],styles:['@charset "UTF-8";.dialog-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#34495e;margin-bottom:20px;text-align:center}.container[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.btn[_ngcontent-%COMP%]{flex:1;background-color:#34495e;color:#fff}']}),m})();var A=o(1075),M=o(1896),O=o(7988),w=o(617),h=o(1919),b=o(2651),L=o(1274);let N=(()=>{var i;class m{constructor(e,a){this.authService=e,this.dialog=a}ngOnInit(){this.loggedUser=this.authService.getLoggedUser()}logout(){this.dialog.open(A.$,{data:{title:"Sign Out",message:"Are you sure?"}}).afterClosed().pipe((0,r.h)(a=>a),(0,r.h)(a=>a)).subscribe(()=>this.authService.logout())}changePassword(){this.dialog.open(y,{disableClose:!0})}}return(i=m).\u0275fac=function(e){return new(e||i)(t.Y36(d.e),t.Y36(c.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["shared-layout"]],decls:38,vars:1,consts:[["fullscreen",""],["mode","over"],["sidenav",""],["routerLink","/reservations","routerLinkActive","active"],["matListItemIcon",""],["routerLink","/tables","routerLinkActive","active"],["mat-icon-button","",3,"click"],[1,"spacer"],[1,"profile"],["mat-mini-fab","",1,"btn-profile",3,"matMenuTriggerFor"],[1,"icon"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"container","p-2"]],template:function(e,a){if(1&e){const f=t.EpF();t.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-nav-list")(4,"mat-list-item",3)(5,"mat-icon",4),t._uU(6,"book_online"),t.qZA(),t.TgZ(7,"mat-label"),t._uU(8,"Resevations"),t.qZA()(),t.TgZ(9,"mat-list-item",5)(10,"mat-icon",4),t._uU(11,"table_restaurant"),t.qZA(),t.TgZ(12,"mat-label"),t._uU(13,"Tables"),t.qZA()()()(),t.TgZ(14,"mat-toolbar")(15,"button",6),t.NdJ("click",function(){t.CHM(f);const D=t.MAs(2);return t.KtG(D.toggle())}),t.TgZ(16,"mat-icon"),t._uU(17,"menu"),t.qZA()(),t._UZ(18,"span",7),t.TgZ(19,"div",8)(20,"div")(21,"button",9)(22,"mat-icon",10),t._uU(23,"account_circle"),t.qZA()()(),t.TgZ(24,"mat-menu",null,11)(26,"button",12),t.NdJ("click",function(){return a.changePassword()}),t.TgZ(27,"mat-icon"),t._uU(28,"password"),t.qZA(),t.TgZ(29,"span"),t._uU(30,"Change Password"),t.qZA()(),t.TgZ(31,"button",12),t.NdJ("click",function(){return a.logout()}),t.TgZ(32,"mat-icon"),t._uU(33,"logout"),t.qZA(),t.TgZ(34,"span"),t._uU(35,"Logout"),t.qZA()()()()(),t.TgZ(36,"div",13),t._UZ(37,"router-outlet"),t.qZA()()}if(2&e){const f=t.MAs(25);t.xp6(21),t.Q6J("matMenuTriggerFor",f)}},dependencies:[M.lC,M.rH,M.Od,O.VK,O.OP,O.p6,u.RK,u.nh,C.hX,w.Hw,h.Hk,h.Tg,h.Yt,b.JX,b.TM,L.Ye],styles:["mat-sidenav-container[_ngcontent-%COMP%]{height:100vh;background-color:#f5f5f5}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:250px;background-color:#2c3e50;color:#f5f5f5}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{cursor:pointer;padding:15px}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f5f5f5}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#f5f5f5}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:hover{background-color:#34495e}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item.active[_ngcontent-%COMP%]{background-color:#1abc9c;color:#f5f5f5}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:500}mat-sidenav-container[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{background-color:#34495e;color:#f5f5f5;display:flex;justify-content:space-between;align-items:center;padding:0 20px;height:64px}mat-sidenav-container[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f5f5f5}mat-sidenav-container[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}mat-sidenav-container[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .btn-profile[_ngcontent-%COMP%]{background-color:#1abc9c;color:#f5f5f5;margin-right:15px}mat-sidenav-container[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   mat-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px 20px;text-align:left;font-size:14px;background-color:transparent;color:inherit}mat-sidenav-container[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   mat-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px;color:#2c3e50}mat-sidenav-container[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   mat-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ecf0f1}mat-sidenav-container[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:20px;background-color:#ecf0f1;min-height:calc(100vh - 64px)}mat-sidenav-container[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   router-outlet[_ngcontent-%COMP%]{display:block;padding:20px;background-color:#f5f5f5;border-radius:8px;box-shadow:0 2px 10px #0000001a}"]}),m})()}}]);